<template>
    <lightning-card title="Property Summary" icon-name="custom:custom85">
        <div slot="actions">
            <lightning-button-icon icon-name="utility:edit" variant="bare" alternative-text="Edit Record" onclick={editProperty}></lightning-button-icon>
        </div>
        <div if:false={property}>
            <div class="select slds-text-color--weak no-property">
                Select a property to see details here.
            </div>
        </div>
        <div if:true={property}>
            <lightning-layout vertical-align="center">
                <lightning-layout-item padding="horizontal-small">
                    <div if:true={property.Thumbnail__c}>
                        <img src={property.Thumbnail__c.value} class="property-pic" />
                    </div>
                </lightning-layout-item>
                <lightning-layout-item>
                    <div>
                        <lightning-formatted-address street={property.Address__c.value} city={property.City__c.value} province={property.State__c.value} postal-code={property.Zip__c.value}></lightning-formatted-address>
                        <p>Beds: {property.Beds__c.value} Baths: {property.Baths__c.value}</p>
                        <p><lightning-formatted-number value={property.Price__c.value} style="currency" currency-code="USD" minimum-fraction-digits="0" maximum-fraction-digits="0"></lightning-formatted-number></p>
                    </div>
                </lightning-layout-item>
            </lightning-layout>
            <lightning-layout vertical-align="center">
                <lightning-layout-item padding="around-small">
                    <div if:true={broker.Picture__c}>
                        <img src={broker.Picture__c.value} class="broker-pic" />
                    </div>
                </lightning-layout-item>
                <lightning-layout-item>
                    <div class="broker">
                        <p><a onclick={navigateToBrokerRecord}>{broker.Name.value}</a></p>
                        <p>{broker.Title__c.value}</p>
                        <p>{broker.Mobile_Phone__c.value}</p>
                        <p>{broker.Email__c.value}</p>
                    </div>
                </lightning-layout-item>
            </lightning-layout>
        </div>
    </lightning-card>
</template>
